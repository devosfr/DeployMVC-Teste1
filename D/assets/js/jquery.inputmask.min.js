/**
* @license Input Mask plugin for jquery
* http://github.com/RobinHerbots/jquery.inputmask
* Copyright (c) 2010 - 2012 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 1.0.22a
*/
(function(n){Array.prototype.indexOf=Array.prototype.indexOf||function(n,t){for(var i=t||0;i<this.length;i++)if(this[i]==n)return i;return-1};n.fn.inputmask==undefined&&(n.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},escapeChar:"\\",mask:null,oncomplete:null,onincomplete:null,oncleared:null,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:n.noop,onKeyDown:n.noop,numericInput:!1,radixPoint:".",definitions:{"9":{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-zА-яЁё]",cardinality:1},"*":{validator:"[A-Za-zА-яЁё0-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,16,17,18,20,27,33,34,35,36,37,38,39,40,46,91,93,108]},val:n.fn.val},n.fn.inputmask=function(t,i){function yt(n){var t=document.createElement("input"),n="on"+n,i=n in t;return i||(t.setAttribute(n,"return;"),i=typeof t[n]=="function"),t=null,i}function nt(t){var u=r.aliases[t];return u?(u.alias&&nt(u.alias),n.extend(!0,r,u),n.extend(!0,r,i),!0):!1}function tt(){var t=!1,e=0,u,i,f;for(r.mask.length==1&&r.greedy==!1&&(r.placeholder=""),u=n.map(r.mask.split(""),function(n){var i=[],f,u;if(n==r.escapeChar)t=!0;else if(n!=r.optionalmarker.start&&n!=r.optionalmarker.end||t){if(f=r.definitions[n],f&&!t)for(u=0;u<f.cardinality;u++)i.push(v(e+u));else i.push(n),t=!1;return e+=i.length,i}}),i=u.slice(),f=1;f<r.repeat&&r.greedy;f++)i=i.concat(u.slice());return i}function it(){var t=!1,u=!1,i=!1;return n.map(r.mask.split(""),function(n){var o=[],f,s,c,e;if(n==r.escapeChar)u=!0;else if(n!=r.optionalmarker.start||u){if(n!=r.optionalmarker.end||u){if(f=r.definitions[n],f&&!u){for(s=f.prevalidator,c=s?s.length:0,e=1;e<f.cardinality;e++){var l=c>=e?s[e-1]:[],h=l.validator,a=l.cardinality;o.push({fn:h?typeof h=="string"?new RegExp(h):new function(){this.test=h}:new RegExp("."),cardinality:a?a:1,optionality:t,newBlockMarker:t==!0?i:!1,offset:0,casing:f.casing,def:n});t==!0&&(i=!1)}o.push({fn:f.validator?typeof f.validator=="string"?new RegExp(f.validator):new function(){this.test=f.validator}:new RegExp("."),cardinality:f.cardinality,optionality:t,newBlockMarker:i,offset:0,casing:f.casing,def:n})}else o.push({fn:null,cardinality:0,optionality:t,newBlockMarker:i,offset:0,casing:null,def:n}),u=!1;return i=!1,o}t=!1;i=!0}else t=!0,i=!0})}function b(n,t,i,u){var s;if(n<0||n>=f())return!1;var o=a(n),l=t?1:0,c="";for(s=e[o].cardinality;s>l;s--)c+=h(i,o-(s-1));return t&&(c+=t),e[o].fn!=null?e[o].fn.test(c,i,n,u,r):!1}function s(n){var i=a(n),t=e[i];return t!=undefined?t.fn:!1}function a(n){return n%e.length}function v(n){return r.placeholder.charAt(n%r.placeholder.length)}function f(){var n=u.length;return!r.greedy&&r.repeat>1&&(n+=u.length*(r.repeat-1)),n}function c(n,t){var r=f(),i;if(t>=r)return r;for(i=t;++i<r&&!s(i););return i}function k(n,t){var i=t;if(i<=0)return 0;while(--i>0&&!s(i));return i}function p(n,t,i){var u=e[a(t)],r=i;switch(u.casing){case"upper":r=i.toUpperCase();break;case"lower":r=i.toLowerCase()}n[t]=r}function h(n,t,i){return i&&(t=rt(n,t)),n[t]}function rt(n,t,i){var r;if(i)while(t<0&&n.length<f())for(r=u.length-1,t=u.length;u[r]!==undefined;)n.unshift(u[r--]);else while(n[t]==undefined&&n.length<f())for(r=0;u[r]!==undefined;)n.push(u[r++]);return t}function l(n,t,i){n._valueSet(t.join(""));i!=undefined&&(w?setTimeout(function(){o(n,i)},100):o(n,i))}function ut(n,t,i){for(var r=t,e=f();r<i&&r<e;r++)p(n,r,h(u.slice(),r))}function d(n,t){var i=a(t);p(n,t,h(u,i))}function y(t,i,o,y){var rt=n(t).data("inputmask").isRTL,ft=g(t._valueGet(),rt).split(""),nt,tt,et,k,w,it,at;if(rt){for(nt=f(),tt=ft.reverse(),tt.length=nt,k=0;k<nt;k++)et=a(nt-(k+1)),e[et].fn==null&&tt[k]!=h(u,et)?(tt.splice(k,0,h(u,et)),tt.length=nt):tt[k]=tt[k]||h(u,et);ft=tt.reverse()}ut(i,0,i.length);i.length=u.length;var st=-1,ot=-1,ht,nt=f(),ct=ft.length,lt=ct==0?nt:-1;for(k=0;k<ct;k++)for(w=ot+1;w<nt;w++)if(s(w)){it=ft[k];(ht=b(w,it,i,!o))!==!1?(ht!==!0&&(w=ht.pos||w,it=ht.c||it),p(i,w,it),st=ot=w):(d(i,w),it==v(w)&&(ot=w,lt=w));break}else if(d(i,w),st==ot&&(st=w),ot=w,ft[k]==h(i,w))break;if(r.greedy==!1)for(at=g(i.join(""),rt).split("");i.length!=at.length;)rt?i.shift():i.pop();return o&&l(t,i),rt?r.numericInput?i.indexOf(r.radixPoint)!=-1&&y!==!0?i.indexOf(r.radixPoint):c(i,nt):c(i,lt):c(i,st)}function st(n){return n.replace(new RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","gim"),"\\$1")}function g(n,t){return t?n.replace(new RegExp("^("+st(u.join(""))+")*"),""):n.replace(new RegExp("("+st(u.join(""))+")*$"),"")}function ht(t,i){var u,r,f;if(y(t,i,!1),u=i.slice(),n(t).data("inputmask").isRTL)for(r=0;r<=u.length-1;r++)if(f=a(r),e[f].optionality)if(v(r)!=i[r]&&s(r))break;else u.splice(0,1);else break;else for(r=u.length-1;r>=0;r--)if(f=a(r),e[f].optionality)if(v(r)!=i[r]&&s(r))break;else u.pop();else break;l(t,u)}function ct(t,i){var f=t[0],r;return e&&(i===!0||!t.hasClass("hasDatepicker"))?(r=u.slice(),y(f,r),n.map(r,function(n,t){return s(t)&&n!=h(u.slice(),t)?n:null}).join("")):f._valueGet()}function o(n,t,i){var u=n.jquery&&n.length>0?n[0]:n,e,o,f;if(typeof t=="number")i=typeof i=="number"?i:t,r.insertMode==!1&&t==i&&i++,u.setSelectionRange?u.setSelectionRange(t,i):u.createTextRange&&(f=u.createTextRange(),f.collapse(!0),f.moveEnd("character",i),f.moveStart("character",t),f.select()),u.focus(),w&&i!=u.selectionEnd&&(o={begin:t,end:i});else return e=w?o:null,o=null,e==null&&(u.setSelectionRange?(t=u.selectionStart,i=u.selectionEnd):document.selection&&document.selection.createRange&&(f=document.selection.createRange(),t=0-f.duplicate().moveStart("character",-1e5),i=t+f.text.length),e={begin:t,end:i}),e}function ft(t){function vt(n){for(var i=!0,r=n._valueGet(),u=r.length,t=0;t<u;t++)if(s(t)&&r.charAt(t)==v(t)){i=!1;break}return i}function bt(t){var i=n._data(t).events;n.each(i,function(i,r){var f,u;n(t).bind(i+".inputmask",function(n){if(this.readOnly||this.disabled)return n.stopPropagation(),n.stopImmediatePropagation(),n.preventDefault(),!1});
//!! the bound handlers are executed in the order they where bound
for(f=r[r.length-1],u=r.length-1;u>0;u--)r[u]=r[u-1];r[0]=f})}function kt(t){var i;Object.getOwnPropertyDescriptor&&(i=Object.getOwnPropertyDescriptor(t,"value"));i&&i.get?t._valueGet||(t._valueGet=i.get,t._valueSet=i.set,Object.defineProperty(t,"value",{get:function(){var i=n(this),t=n(this).data("inputmask");return t&&t.autoUnmask?i.inputmask("unmaskedvalue"):this._valueGet()!=t._buffer.join("")?this._valueGet():""},set:function(t){this._valueSet(t);n(this).triggerHandler("setvalue.inputmask")}})):document.__lookupGetter__&&t.__lookupGetter__("value")?t._valueGet||(t._valueGet=t.__lookupGetter__("value"),t._valueSet=t.__lookupSetter__("value"),t.__defineGetter__("value",function(){var i=n(this),t=n(this).data("inputmask");return t&&t.autoUnmask?i.inputmask("unmaskedvalue"):this._valueGet()!=t._buffer.join("")?this._valueGet():""}),t.__defineSetter__("value",function(t){this._valueSet(t);n(this).triggerHandler("setvalue.inputmask")})):(t._valueGet||(t._valueGet=function(){return this.value},t._valueSet=function(n){this.value=n}),n.fn.val.inputmaskpatch!=!0&&(n.fn.val=function(){var t,i,r;return arguments.length==0?(t=n(this),t.data("inputmask")?t.data("inputmask").autoUnmask?t.inputmask("unmaskedvalue"):(i=n.inputmask.val.apply(t),i!=t.data("inputmask")._buffer.join("")?i:""):n.inputmask.val.apply(t)):(r=arguments,this.each(function(){var t=n(this),i=n.inputmask.val.apply(t,r);return t.data("inputmask")&&t.triggerHandler("setvalue.inputmask"),i}))},n.extend(n.fn.val,{inputmaskpatch:!0})))}function pt(n,t,r){for(var o,l,y;!s(n)&&n-1>=0;)n--;for(o=n;o<t&&o<f();o++)if(s(o)){if(d(i,o),l=c(i,o),y=h(i,l),y!=v(l)){if(l<f()&&b(o,y,i,!0)!==!1&&e[a(o)].def==e[a(l)].def)p(i,o,h(i,l)),d(i,l);else if(s(o))break}else if(r==undefined)break}else d(i,o);return r!=undefined&&p(i,nt?t:k(i,t),r),i=g(i.join(""),nt).split(""),i.length==0&&(i=u.slice()),n}function wt(n,t,r,o){for(var y,w,k,l=n;l<=t&&l<f();l++)if(s(l)){if(y=h(i,l),p(i,l,r),y!=v(l))if(w=c(i,l),w<f())if(b(w,y,i,!0)!==!1&&e[a(l)].def==e[a(w)].def)r=y;else if(s(w))break;else r=y;else break;else if(o!==!0)break}else d(i,l);return k=i.length,i=g(i.join(""),nt).split(""),i.length==0&&(i=u.slice()),t-(k-i.length)}function dt(t){var k,w,b,a,p;st=!1;var s=this,h=t.keyCode,e=o(s);if(r.numericInput&&(k=s._valueGet(),w=k.indexOf(r.radixPoint),w!=-1&&(nt=e.begin<=w||e.end<=w)),h==r.keyCode.BACKSPACE||h==r.keyCode.DELETE||at&&h==127)return b=f(),e.begin==0&&e.end==b?(i=u.slice(),l(s,i),o(s,y(s,i,!1))):e.end-e.begin>1||e.end-e.begin==1&&r.insertMode?(ut(i,e.begin,e.end),l(s,i,nt?y(s,i,!1):e.begin)):(a=e.begin-(h==r.keyCode.DELETE?0:1),a<ft&&h==r.keyCode.DELETE&&(a=ft),a>=ft&&(r.numericInput&&r.greedy&&h==r.keyCode.DELETE&&i[a]==r.radixPoint&&(a=c(i,a),nt=!1),nt?(a=wt(ft,a,v(a),!0),a=r.numericInput&&r.greedy&&h==r.keyCode.BACKSPACE&&i[a+1]==r.radixPoint?a+1:c(i,a)):a=pt(a,b),l(s,i,a))),r.oncleared&&s._valueGet()==u.join("")&&r.oncleared.call(s),!1;if(h==r.keyCode.END||h==r.keyCode.PAGE_DOWN)return setTimeout(function(){var n=y(s,i,!1,!0);r.insertMode||n!=f()||t.shiftKey||n--;o(s,t.shiftKey?e.begin:n,n)},0),!1;if(h==r.keyCode.HOME||h==r.keyCode.PAGE_UP)return o(s,0,t.shiftKey?e.begin:0),!1;if(h==r.keyCode.ESCAPE)return s._valueSet(ot),o(s,0,y(s,i)),!1;if(h==r.keyCode.INSERT)return r.insertMode=!r.insertMode,o(s,!r.insertMode&&e.begin==f()?e.begin-1:e.begin),!1;if(t.ctrlKey&&h==88)setTimeout(function(){o(s,y(s,i,!0))},0);else if(!r.insertMode){if(h==r.keyCode.RIGHT)return p=e.begin==e.end?e.end+1:e.end,p=p<f()?p:e.end,o(s,t.shiftKey?e.begin:p,t.shiftKey?p+1:p),!1;if(h==r.keyCode.LEFT)return p=e.begin-1,p=p>0?p:0,o(s,p,t.shiftKey?e.end:p),!1}r.onKeyDown.call(this,t,r);yt=n.inArray(h,r.ignorables)!=-1}function gt(n){var u,g,ot,et,y,ht,t,a,d,it,ct;if(st)return!1;if(st=!0,u=this,n=n||window.event,g=n.which||n.charCode||n.keyCode,r.numericInput&&g==r.radixPoint.charCodeAt(r.radixPoint.length-1)&&(ot=u._valueGet(),et=ot.indexOf(r.radixPoint),o(u,c(i,et!=-1?et:f()))),n.ctrlKey||n.altKey||n.metaKey||yt)return!0;if(g){var s=o(u),e=String.fromCharCode(g),tt=f();if(ut(i,s.begin,s.end),nt)if(t=r.numericInput?s.end:k(i,s.end),(a=b(t==tt||h(i,t)==r.radixPoint?k(i,t):t,e,i,!1))!==!1){if(a!==!0&&(t=a.pos||s,e=a.c||e),y=ft,r.insertMode==!0){if(r.greedy==!0)for(it=i.slice();h(it,y,!0)!=v(y)&&y<=t;)y=c(i,y);if(y<=t&&(r.greedy||i.length<tt))i[ft]!=v(ft)&&i.length<tt&&(ht=rt(i,-1,nt),s.end!=0&&(t=t+ht),tt=i.length),pt(y,r.numericInput?k(i,t):t,e);else return!1}else p(i,r.numericInput?k(i,t):t,e);l(u,i,r.numericInput&&t==0?c(i,t):t);r.oncomplete&&vt(u)&&r.oncomplete.call(u)}else w&&l(u,i,s.begin);else if(t=c(i,s.begin-1),rt(i,t,nt),(a=b(t,e,i,!1))!==!1){if(a!==!0&&(t=a.pos||t,e=a.c||e),r.insertMode==!0){for(d=f(),it=i.slice();h(it,d,!0)!=v(d)&&d>=t;)d=d==0?-1:k(i,d);if(d>=t)wt(t,i.length,e);else return!1}else p(i,t,e);ct=c(i,t);l(u,i,ct);r.oncomplete&&vt(u)&&r.oncomplete.call(u)}else w&&l(u,i,s.begin);return!1}}function ni(t){var e=n(this),f=this,s=t.keyCode;r.onKeyUp.call(this,t,r);s==r.keyCode.TAB&&e.hasClass("focus.inputmask")&&f._valueGet().length==0&&(i=u.slice(),l(f,i),nt||o(f,0),ot=f._valueGet())}var tt=n(t),et,ct;if(tt.is(":input")){et=tt.prop("maxLength");f()>et&&et>-1&&(et<u.length&&(u.length=et),r.greedy==!1&&(r.repeat=Math.round(et/u.length)));tt.prop("maxLength",f()*2);tt.data("inputmask",{tests:e,_buffer:u,greedy:r.greedy,repeat:r.repeat,autoUnmask:r.autoUnmask,definitions:r.definitions,isRTL:!1});kt(t);var i=u.slice(),ot=t._valueGet(),st=!1,yt=!1,it=-1,ft=c(i,-1),ti=k(i,f()),nt=!1;(t.dir=="rtl"||r.numericInput)&&(t.dir="ltr",tt.css("text-align","right"),tt.removeAttr("dir"),ct=tt.data("inputmask"),ct.isRTL=!0,tt.data("inputmask",ct),nt=!0);tt.unbind(".inputmask");tt.removeClass("focus.inputmask");tt.bind("mouseenter.inputmask",function(){var f=n(this),t=this,r;f.hasClass("focus.inputmask")||(r=t._valueGet().length,r==0?(i=u.slice(),l(t,i)):r<i.length&&l(t,i))}).bind("blur.inputmask",function(){var f=n(this),t=this,e=t._valueGet();f.removeClass("focus.inputmask");e!=ot&&f.change();r.clearMaskOnLostFocus&&(e==u.join("")?t._valueSet(""):ht(t,i));(r.clearIncomplete||r.onincomplete)&&!vt(t)&&(r.onincomplete&&r.onincomplete.call(t),r.clearIncomplete&&(r.clearMaskOnLostFocus?t._valueSet(""):(i=u.slice(),l(t,i))))}).bind("focus.inputmask",function(){var t=n(this),i=this;t.addClass("focus.inputmask");ot=i._valueGet()}).bind("mouseleave.inputmask",function(){var f=n(this),t=this;r.clearMaskOnLostFocus&&(f.hasClass("focus.inputmask")||(t._valueGet()==u.join("")?t._valueSet(""):ht(t,i)))}).bind("click.inputmask",function(){var n=this;setTimeout(function(){var r=o(n),t;r.begin==r.end&&(t=r.begin,it=y(n,i,!1),nt?o(n,t>it&&(b(t,i[t],i,!0)!==!1||!s(t))?t:it):o(n,t<it&&(b(t,i[t],i,!0)!==!1||!s(t))?t:it))},0)}).bind("dblclick.inputmask",function(){var n=this;setTimeout(function(){o(n,0,it)},0)}).bind("keydown.inputmask",dt).bind("keypress.inputmask",gt).bind("keyup.inputmask",ni).bind(lt+".inputmask",function(){var n=this;setTimeout(function(){o(n,y(n,i,!0))},0)}).bind("setvalue.inputmask",function(){var n=this;ot=n._valueGet();y(n,i,!0);n._valueGet()==u.join("")&&n._valueSet("")});it=y(t,i,!0);document.activeElement===t?(tt.addClass("focus.inputmask"),o(t,it)):r.clearMaskOnLostFocus&&t._valueGet()==u.join("")&&t._valueSet("");bt(t)}}var r=n.extend(!0,{},n.inputmask.defaults,i),lt=yt("paste")?"paste":"input",at=navigator.userAgent.match(/iphone/i)!=null,w=navigator.userAgent.match(/android.*mobile safari.*/i)!=null,et,ot,vt,u,e;if(w&&(et=navigator.userAgent.match(/mobile safari.*/i),ot=parseInt(new RegExp(/[0-9]+/).exec(et)),w=ot<=533),vt=null,typeof t=="string")switch(t){case"mask":return u=tt(),e=it(),this.each(function(){ft(this)});case"unmaskedvalue":return e=this.data("inputmask").tests,u=this.data("inputmask")._buffer,r.greedy=this.data("inputmask").greedy,r.repeat=this.data("inputmask").repeat,r.definitions=this.data("inputmask").definitions,ct(this);case"remove":return this.each(function(){var i=n(this),t=this;setTimeout(function(){if(i.data("inputmask")){e=i.data("inputmask").tests;u=i.data("inputmask")._buffer;r.greedy=i.data("inputmask").greedy;r.repeat=i.data("inputmask").repeat;r.definitions=i.data("inputmask").definitions;t._valueSet(ct(i,!0));i.removeData("inputmask");i.unbind(".inputmask");i.removeClass("focus.inputmask");var n;Object.getOwnPropertyDescriptor&&(n=Object.getOwnPropertyDescriptor(t,"value"));n&&n.get?t._valueGet&&Object.defineProperty(t,"value",{get:t._valueGet,set:t._valueSet}):document.__lookupGetter__&&t.__lookupGetter__("value")&&t._valueGet&&(t.__defineGetter__("value",t._valueGet),t.__defineSetter__("value",t._valueSet));delete t._valueGet;delete t._valueSet}},0)});case"getemptymask":return this.data("inputmask")?this.data("inputmask")._buffer.join(""):"";case"hasMaskedValue":return this.data("inputmask")?!this.data("inputmask").autoUnmask:!1;default:return nt(t)||(r.mask=t),u=tt(),e=it(),this.each(function(){ft(this)})}if(typeof t=="object")return r=n.extend(!0,{},n.inputmask.defaults,t),nt(r.alias),u=tt(),e=it(),this.each(function(){ft(this)})})})(jQuery);
//# sourceMappingURL=jquery.inputmask.min.js.map
